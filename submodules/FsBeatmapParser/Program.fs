// Learn more about F# at http://fsharp.org
module Program

(*
open System.IO
open General
open Editor
open Metadata
open Difficulty
open Events
open TimingPoints
open Colours
open HitObjects
open BeatmapParser
open FsBeatmap

//let exampleGeneral = [
//    "AudioFilename: audio.mp3";
//    "AudioLeadIn: 0";
//    "PreviewTime: 186942";
//    "Countdown: 0";
//    "SampleSet: Normal";
//    "StackLeniency: 0.3";
//    "Mode: 0";
//    "LetterboxInBreaks: 0";
//    "WidescreenStoryboard: 0";
//]

//let exampleEditor = [
//    "Bookmarks: 71327,179557,191442,192711,239327";
//    "DistanceSpacing: 1";
//    "BeatDivisor: 4";
//    "GridSize: 16";
//    "TimelineZoom: 3.099998";
//]

//let exampleMetadata = [
//    "Title:Quicksand";
//    "TitleUnicode:Quicksand";
//    "Artist:Camellia";
//    "ArtistUnicode:かめりあ";
//    "Creator:Sheepcraft";
//    "Version:Liquefaction";
//    "Source:";
//    "Tags:galaxy burst edp cametek";
//    "BeatmapID:1593674";
//    "BeatmapSetID:757566";
//]

//let diffOptions = [
//    "HPDrainRate:5";
//    "CircleSize:4.2";
//    "OverallDifficulty:9";
//    "ApproachRate:9.7";
//    "SliderMultiplier:2";
//    "SliderTickRate:1";
//]

//let events = [
//    "//Background and Video events";
//    "0,0,\"lolwhyyoureadingthepicturefilename.jpg\",0,0";
//    "//Break Periods";
//    "//Storyboard Layer 0 (Background)";
//    "//Storyboard Layer 1 (Fail)";
//    "//Storyboard Layer 2 (Pass)";
//    "//Storyboard Layer 3 (Foreground)";
//    "//Storyboard Layer 4 (Overlay)";
//    "//Storyboard Sound Samples";
//]

//let timingPoints = [
//    "460,600,4,2,1,50,1,0";
//    "2260,-100,4,2,1,50,0,0";
//    "22060,-90.9090909090909,4,2,1,60,0,0";
//    "60460,-71.4285714285714,4,2,1,65,0,0";
//    "67660,-50,4,2,1,65,0,0";
//    "70960,-71.4285714285714,4,2,1,65,0,0";
//    "72460,-52.6315789473684,4,2,1,65,0,0";
//    "74110,-71.4285714285714,4,2,1,65,0,0";
//    "79660,-133.333333333333,4,2,1,65,0,0";
//    "82060,-66.6666666666667,4,2,1,65,0,0";
//    "83860,-55.5555555555556,4,2,1,75,0,0";
//    "84460,-50,4,2,1,75,0,0";
//    "85060,-52.6315789473684,4,2,1,75,0,0";
//    "103660,-52.6315789473684,4,2,1,85,0,0";
//    "119860,-133.333333333333,4,2,1,75,0,0";
//    "120460,-66.6666666666667,4,2,1,85,0,0";
//    "121060,-52.6315789473684,4,2,1,85,0,0";
//    "121660,-57.1428571428571,4,2,1,85,0,0";
//    "122860,-100,4,2,1,75,0,0";
//    "125260,-100,4,2,1,65,0,0";
//    "127660,-100,4,2,1,60,0,0";
//    "146860,-90.9090909090909,4,2,1,60,0,0";
//    "185260,-71.4285714285714,4,2,1,65,0,0";
//    "192460,-50,4,2,1,65,0,0";
//    "195760,-71.4285714285714,4,2,1,65,0,0";
//    "197260,-52.6315789473684,4,2,1,65,0,0";
//    "198910,-100,4,2,1,65,0,0";
//    "199660,-71.4285714285714,4,2,1,65,0,0";
//    "204460,-133.333333333333,4,2,1,65,0,0";
//    "206860,-66.6666666666667,4,2,1,65,0,0";
//    "208660,-52.6315789473684,4,2,1,75,0,0";
//    "228460,-52.6315789473684,4,2,1,85,0,0";
//    "244660,-71.4285714285714,4,2,1,75,0,0";
//    "245260,-52.6315789473684,4,2,1,85,0,0";
//    "247660,-100,4,2,1,65,0,0";
//    "266860,-50,4,2,1,85,0,1";
//    "274060,-66.6666666666667,4,2,1,85,0,1";
//    "274660,-50,4,2,1,85,0,1";
//    "275860,-66.6666666666667,4,2,1,50,0,0";
//    "281260,-133.333333333333,4,2,1,40,0,0";
//    "298060,-100,4,2,1,40,0,0";
//    "302260,-100,4,2,1,5,0,0";
//]

//let exampleColours = [
//    "Combo1 : 102,243,78";
//    "Combo2 : 120,211,245";
//    "Combo3 : 244,230,47";
//    "Combo4 : 252,152,244";
//    "";
//]

//let exampleHitObjects = [|
//    "15,36,2260,5,0,1:0:0:0:";
//    "114,106,2710,1,2,0:0:0:0:";
//    "114,106,2785,1,2,0:0:0:0:";
//    "114,106,2860,2,0,L|60:100,3,40,2|0|0|0,1:0|0:0|3:0|3:0,0:0:0:0:";
//    "315,22,3760,5,0,3:0:0:0:";
//    "315,22,3910,1,0,3:0:0:0:";
//    "360,87,4060,1,2,3:2:0:0:";
//    "296,173,4360,2,0,L|300:220,1,40,0|0,3:0|3:0,0:0:0:0:";
//    "299,212,4960,1,0,3:0:0:0:";
//    "481,321,5260,6,0,L|441:317,1,40,2|0,1:0|0:0,0:0:0:0:";
//    "373,368,5560,1,0,3:0:0:0:";
//    "373,368,5710,2,0,P|311:372|252:359,1,120,0|0,3:0|1:0,0:0:0:0:";
//    "188,313,6310,2,0,L|148:316,1,40,0|2,3:0|1:0,0:0:0:0:";
//    "83,366,6610,1,0,3:0:0:0:";
//    "83,366,6760,1,0,3:0:0:0:";
//    "31,303,6910,1,0,1:0:0:0:";
//    "90,184,7210,2,0,L|95:243,1,40,0|0,3:0|3:0,0:0:0:0:";
//    "260,276,7660,6,0,L|319:270,1,40,2|0,1:0|0:0,0:0:0:0:";
//    "356,213,7960,1,0,3:0:0:0:";
//    "356,213,8110,1,0,3:0:0:0:";
//    "434,336,8560,2,0,P|447:282|439:241,1,80,0|2,3:0|0:0,0:0:0:0:";
//    "277,195,9160,1,0,3:0:0:0:";
//    "277,195,9310,1,0,3:0:0:0:";
//    "436,247,9610,1,0,3:0:0:0:";
//    "444,258,9910,1,0,3:0:0:0:";
//    "501,171,10060,6,0,P|478:159|451:152,1,40,2|0,1:0|3:0,0:0:0:0:";
//    "383,175,10360,1,0,0:0:0:0:";
//    "383,175,10510,2,0,P|361:185|330:190,1,40,0|2,3:0|0:0,0:0:0:0:";
//    "270,132,10810,1,0,3:0:0:0:";
//    "270,132,10960,1,0,1:0:0:0:";
//    "409,16,11260,6,0,P|371:8|332:15,1,80,2|0,0:0|3:0,0:0:0:0:";
//    "255,54,11710,2,0,L|251:14,2,40,0|2|0,1:0|0:0|1:0,0:0:0:0:";
//    "169,40,12160,1,0,3:0:0:0:";
//    "33,108,12460,6,0,P|28:137|26:177,1,40,2|0,1:0|0:0,0:0:0:0:";
//    "72,220,12760,1,0,3:0:0:0:";
//    "72,220,12910,1,0,3:0:0:0:";
//    "12,324,13210,1,0,3:0:0:0:";
//    "12,324,13360,2,0,P|57:346|111:341,1,80,0|2,3:0|0:0,0:0:0:0:";
//    "211,293,13960,1,0,3:0:0:0:";
//    "211,293,14110,1,0,3:0:0:0:";
//    "331,363,14410,1,0,3:0:0:0:";
//    "331,363,14560,1,0,3:0:0:0:";
//    "482,269,14860,6,0,L|476:209,1,40,2|0,1:0|0:0,0:0:0:0:";
//    "421,156,15160,1,0,3:0:0:0:";
//    "421,156,15310,1,0,3:0:0:0:";
//    "474,48,15610,1,0,3:0:0:0:";
//    "474,48,15760,2,0,P|436:32|384:33,1,80,0|2,3:0|0:0,0:0:0:0:";
//    "261,121,16360,1,0,3:0:0:0:";
//    "261,121,16510,2,0,L|256:73,1,40,0|2,3:0|0:0,0:0:0:0:";
//    "181,32,16810,2,0,L|177:71,1,40,0|0,3:0|1:0,0:0:0:0:";
//    "123,131,17110,1,0,3:0:0:0:";
//    "41,90,17260,5,2,1:0:0:0:";
//    "41,90,17335,1,2,0:0:0:0:";
//    "41,90,17410,1,2,0:0:0:0:";
//    "11,166,17560,1,0,0:0:0:0:";
//    "35,242,17710,1,2,3:2:0:0:";
//    "3,360,18010,1,0,3:0:0:0:";
//    "3,360,18160,2,0,P|71:359|91:345,1,80,0|2,3:0|0:0,0:0:0:0:";
//    "206,298,18760,1,0,1:0:0:0:";
//    "206,298,18910,1,0,3:0:0:0:";
//    "270,348,19060,1,2,3:2:0:0:";
//    "386,283,19360,1,0,3:0:0:0:";
//    "512,384,19660,6,0,L|508:344,1,40,2|0,1:0|0:0,0:0:0:0:";
//    "475,272,19960,1,0,3:0:0:0:";
//    "475,272,20110,2,0,L|482:164,1,80,0|0,3:0|0:0,0:0:0:0:";
//    "438,95,20560,1,0,3:0:0:0:";
//    "438,95,20710,1,0,3:0:0:0:";
//    "376,147,20860,1,2,0:0:0:0:";
//    "376,147,21010,1,0,3:0:0:0:";
//    "312,59,21160,6,0,L|264:63,1,40,2|0,3:2|0:0,0:0:0:0:";
//    "217,143,21460,2,0,L|169:139,1,40,2|0,1:0|0:0,0:0:0:0:";
//    "120,39,21760,2,0,L|72:43,1,40,2|0,1:0|0:0,0:0:0:0:";
//    "4,143,22060,6,0,P|4:162|4:196,1,44.0000013427735,2|0,1:0|0:0,0:0:0:0:";
//    "62,241,22360,1,2,3:2:0:0:";
//    "169,196,22660,1,2,0:0:0:0:";
//    "261,262,22960,1,2,3:2:0:0:";
//|]

//let printTimingPoint (t:Tp) = 
//    printfn "%d,%M,%d,%d,%d,%d,%d,%d" t.time t.beatLength t.meter t.sampleSet t.sampleIndex t.volume (if t.uninherited then 1 else 0) t.effects

[<EntryPoint>]
let main argv =
    //let generalOptions = parseGeneralSection exampleGeneral
    //let editorOptions  = parseEditorSection exampleEditor
    //let metadata       = parseMetadataSection exampleMetadata
    //let diffopts       = parseDifficultySection diffOptions
    //let evts           = parseEventSection events
    //let timingpoints   = parseTimingPointSection timingPoints
    //let colours        = parseColourSection exampleColours
    //let hitobjects     = parseHitObjectSection (exampleHitObjects |> Array.toList)
    //printfn "hey, no crash!"

    //let beatmap = new Beatmap @"C:\Program Files\osu!\Songs\758101 Co shu Nie - asphyxia (TV edit)\Co shu Nie - asphyxia (TV edit) (Monstrata) [Asphyxia's Asphyxiating Extra].osu"
    let beatmap = new Beatmap @"C:\Users\funor\scratchsdlfkjasdlfkj.txt";
    beatmap.AudioFilename <- "audio 240bpm.mp3"
    beatmap.ModifyTiming 1.20M
    beatmap.TitleUnicode <- "おちんちん気持ちいい"
    for i = 0 to 10 do
        beatmap.ApproachRate <- decimal i
    beatmap.Save()

    0

*)
